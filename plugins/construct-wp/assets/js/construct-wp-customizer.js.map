{"version":3,"file":"scripts.js","sources":["plugins/construct-wp/src/js/construct-wp-customizer.js"],"sourcesContent":["( function() {\n    // Augment each menu item control once it is added and embedded.\n    wp.customize.control.bind( 'add', ( control ) => {\n        if ( control.extended( wp.customize.Menus.MenuItemControl ) ) {\n            control.deferred.embedded.done( () => {\n                extendControl( control )\n            } )\n        }\n    } )\n\n    /**\n     * Extend the control with roles information.\n     *\n     * @param {wp.customize.Menus.MenuItemControl} control\n     */\n    function extendControl( control ) {\n        control.iconField = control.container.find( '[name=\"edit-menu-item-icon\"]' )\n        control.visibilityField = control.container.find( '[name=\"edit-menu-item-visibility\"]' )\n        control.logoutLinkField = control.container.find( '[name=\"edit-menu-item-logout_link\"]' )\n        control.linkTypeField = control.container.find( '[name=\"edit-menu-item-link_type\"]' )\n\n        // Set the initial UI state.\n        updateControlFields( control )\n\n        // Update the UI state when the setting changes programmatically.\n        control.setting.bind( () => {\n            updateControlFields( control )\n        } )\n\n        // Update the setting when the inputs are modified.\n        control.iconField.on( 'input', ( e ) => {\n            setSetting( control.setting, {\n                icon: e.target.value,\n            } )\n        } )\n        control.visibilityField.on( 'change', ( e ) => {\n            setSetting( control.setting, {\n                visibility: e.target.value,\n            } )\n        } )\n        control.logoutLinkField.on( 'change', ( e ) => {\n            setSetting( control.setting, {\n                // eslint-disable-next-line camelcase\n                logout_link: e.target.checked ? '1' : '0',\n            } )\n        } )\n        control.linkTypeField.on( 'change', ( e ) => {\n            setSetting( control.setting, {\n                // eslint-disable-next-line camelcase\n                link_type: e.target.value,\n            } )\n        } )\n    }\n\n    /**\n     * Extend the setting with updated information.\n     *\n     * @param {wp.customize.Setting} setting\n     * @param {string|Array} roles\n     */\n    function setSetting( setting, value ) {\n        setting.set( {\n            ..._.clone( setting() ),\n            ...value,\n        } )\n    }\n\n    /**\n     * Apply the control's setting value to the control's fields.\n     *\n     * @param {wp.customize.Menus.MenuItemControl} control\n     */\n    function updateControlFields( control ) {\n        control.iconField.val( control.setting().icon )\n        control.visibilityField.val( control.setting().visibility )\n        control.logoutLinkField.prop( 'checked', control.setting().logout_link === '1' )\n        control.linkTypeField.val( control.setting().link_type )\n    }\n} )()\n"],"names":["wp","customize","control","bind","extended","Menus","MenuItemControl","deferred","embedded","done","extendControl","iconField","container","find","visibilityField","logoutLinkField","linkTypeField","updateControlFields","setting","on","e","setSetting","icon","target","value","visibility","logout_link","checked","link_type","set","_","clone","val","prop"],"mappings":"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"}